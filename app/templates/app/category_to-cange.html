{% extends 'base.html' %}
{% load static %}
{% block title %}Регистрация{% endblock %}
{% block content %}
    <div class="main_container form-page-container">

        <div class="card form-card auth-card register-card">
            <h2 class="form-title">Регистрация нового аккаунта</h2>

            {% if user.is_authenticated %}
                <div class="auth-message-block">
                    <p class="auth-text-info">Вы уже выполнили регистрацию и вход.</p>
                    <div class="guest-auth-actions">
                        <a href="{% url 'to_logout' %}" class="btn-profile btn-logout">
                             Выполнить выход
                        </a>
                        <a href="{% url 'index' %}" class="btn-profile">
                            ← На главную
                        </a>
                    </div>
                </div>
            {% else %}
                <div class="form-grid-content">

                    <div class="form-image-block">
                        <img src="{% static 'app/img/django.png' %}"
                             alt="Иллюстрация регистрации"
                             class="form-image-img">
                    </div>

                    <div class="form-content-wrapper">
                        <form method="post" class="form-django-default">
                            {% csrf_token %}
                            {{ form.as_p }}
                            <input type="hidden" name="next" value="{{ next }}">
                            <button type="submit" class="btn-submit btn-register">Зарегистрироваться</button>
                        </form>

                        <div class="form-footer-actions">
                            <a href="{% url 'login' %}" class="form-back-link">
                                Есть аккаунт? Войти в аккаунт
                            </a>
                        </div>
                    </div>
                </div>
            {% endif %}

        </div>
    </div>
{% endblock %}